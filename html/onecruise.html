<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cruise Details</title>
    <link rel="stylesheet" href="../css/cruisesstyle.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    </script> 
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');

    section {
        padding: 20px 0 60px 0;
    }

    .onecruise-container {
        display: flex;
        img {
            width: 400px;
            height: 400px; 
            object-fit: cover;
        }
    }

    #room-cruise {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
    }

    .room-card {
        box-shadow: 2px 2px 15px rgba(0, 0, 0, 0.16);
        padding: 10px;
        border-radius: 10px;
        img {
        border-radius: 10px;
    }
        h4 {
            font-family: "Montserrat", serif;
            text-transform: uppercase;
            color: #12014e;
        }
    
        h5 {
            font-size: 16px;
            font-family: "Montserrat", serif;
            color: #209333;
        }

        p {
            color: #929292;
        }

        span {
            color: #626262;
            text-transform: uppercase;
        }
    }

    h3 {
        font-family: "Montserrat", serif;
        font-size: 22px;
        text-transform: uppercase;
        padding-bottom: 25px;
        color: #12014e;
    }

    .room-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
    }

    .room-price {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
    }

</style>
</head>
<body>
    <div id="nav"></div>
    <section>
        <div id="one-cruise"></div>
        <div id="room-cruise"></div>
    </section>
    <div id="footer"></div>

    <script src="../js/cruisesapi.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const cruiseid = urlParams.get('id');
        const cruise = cruises[cruiseid];
        const cruiseDetailsContainer = document.getElementById('one-cruise');
        const roomDetailsContainer = document.getElementById('room-cruise');

        let onecruisedetails = '';

        if (cruise) {
            cruiseDetailsContainer.innerHTML = `
                <div class="cruisecard">
                    <img src="${cruise.image}" alt="${cruise.name}" class="cruise-image">
                    <div class="card-content">
                        <h3>${cruise.name}</h3>     
                        <hr>
                        <h4 class="price"><sup>$</sup>${cruise.price}</h4>
                        <h5 class="duration">${cruise.duration} Days</h5>
                        <p><span>ROUNDTRIP FROM:</span> ${cruise.ports[0]}</p>
                        <p><span>Visiting:</span> ${cruise.ports.map(port => `<a class="port">${port}</a>`).join(' &#9679; ')}</p>
                        <p><span>Destination:</span> ${cruise.destination}</p>
                        <p><span>Cruise:</span> ${cruise.ship}</p>
                        <div class="cruise-rating"> 
                            <i class="ri-star-fill"></i><span>${cruise.rating}</span>
                        </div>
                    </div>
                </div>
                <h3>Room Types</h3>
            `;

            cruise.rooms.forEach(room => {
                roomDetailsContainer.innerHTML += `
                    <div class="room-card">
                        <img src="${room.roomsimage ? room.roomsimage : '../cruiseimages/default-room.jpg'}" alt="${room.type}" class="room-image">
                        <div>
                            <div class="room-price">
                                <h4>${room.type}</h4>
                                <h5>$${room.price}</h5>
                            </div>
                            <hr>
                            <p><span>Capacity:</span> ${room.sleeps} people</p>
                            <p>${room.description.join('<br>')}</p>
                        </div>
                    </div>
                `;
            });
        } else {
            cruiseDetailsContainer.innerHTML = '<p>Cruise not found!</p>';
        }


    </script>
    <script type="text/javascript">
        $('#nav').load('../nav/nav.html');
        $('#footer').load('../footer/footer.html');
    </script>
</body>
</html>
